<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="~{layouts/adminLayout}">

<th:block layout:fragment="css">
</th:block>

<div layout:fragment="content">

	<div th:align="center">
		<h1>공지사항</h1>
		<h3>전체 회원들이 볼 수 있는 공지사항을 관리할 수 있습니다.</h3>
	</div>

	<!--/* 검색 영역 */-->
	<div class="row">
		<form name="searchForm" id="searchForm" modelAttribute="searchDto"
			th:method="get">
			<select id="type" name="type" class="col-3">
				<option value="">카테고리 선택</option>
				<option value="title">제목</option>
				<option value="content">내용</option>
			</select> <input class="col-5" type="text" id="keyword" name="keyword"
				placeholder="카테고리 선택 후 검색해주세요." />
			<button type="submit" class="btn btn-primary" id="btn_search">검색</button>
		</form>
	</div>

	<!--/* 게시글 영역 */-->
	<div class="container">
		<div>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>No.</th>
						<th>제목</th>
						<th>작성일</th>
						<th>조회수</th>
					</tr>
				</thead>
				<th:block th:if="${endPage} == 0">
					<tbody>
						<tr>
							<td colspan="5">공지사항 목록이 비었습니다!</td>
						</tr>
					</tbody>
				</th:block>
				<!--/* 게시글 리스트 Rendering 영역 */-->
				<th:block th:unless="${endPage == 0}">
					<tbody class="text-center">
						<tr th:each="post, status: ${notices}">
							<td th:text="${size - status.index-(nowPage-1)*notices.size}" />
							<td><a th:text="${post.title}"
								th:href="@{/admin/notice/get(num=${post.num})}"> </a></td>
							<td
								th:text="${#temporals.format(post.postDate, 'yyyy-MM-dd HH:mm')}"></td>
							<td th:text="${post.viewCnt}"></td>
						</tr>
					</tbody>
				</th:block>
			</table>
			<div th:if="${endPage != 0}">
				<th:block th:each="page : ${#numbers.sequence(startPage, endPage)}">
					<a
						th:if="${page != nowPage} and ${type} != null and ${keyword} != null"
						th:href="@{/admin/notice(page=${page-1},type=${type},keyword=${keyword})}"
						th:text="${page}"></a>
					<a
						th:if="${page != nowPage} and ${type} == null and ${keyword} == null"
						th:href="@{/admin/notice(page=${page-1})}" th:text="${page}"></a>
					<strong th:if="${page == nowPage}" th:text="${page}"
						style="color: red"></strong>
				</th:block>
			</div>
			<a th:href="@{/admin/notice/post}"><input type="button"
				value="글쓰기"></a> <a th:href="@{/admin/notice/list}"><input
				type="button" value="목록"></a>
		</div>
	</div>
</div>

<th:block layout:fragment="script">

	<script th:src="@{https://code.jquery.com/jquery-1.11.3.js}"></script>
	<!-- 	<script th:src="@{/js/admin/noticeList.js}"></script> -->

</th:block>
</html>