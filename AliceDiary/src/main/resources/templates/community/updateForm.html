<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Alice</title>

<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
<meta id="_csrf_header" name="_csrf_header"
	th:content="${_csrf.headerName}" />

<link rel="stylesheet"
	th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css}"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">

<script th:src="@{https://code.jquery.com/jquery-3.2.1.slim.min.js}"
	integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
	crossorigin="anonymous"></script>
<script
	th:src="@{https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js}"
	integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
	crossorigin="anonymous"></script>
<script
	th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js}"
	integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
	crossorigin="anonymous"></script>

<script th:src="@{/js/community/updateForm.js}"></script>

</head>
<body>
	<div id="sidemenu"
		style="width: auto; height: 700px; border: 1px solid purple; float: left; padding: 0px 10px 0px 0px; margin: 0px 20px 0px 0px;">
		<ul id="community">
			<li class="sidemenu"><a href="#">공개게시판</a></li>
			<li class="sidemenu"><a href="#">*생성커뮤니티 메뉴*</a></li>
			<li class="sidemenu"><a href="#">컨텐츠</a></li>
			<li class="sidemenu"><a href="#">커뮤니티만들기</a></li>
		</ul>
	</div>
	<div style="float: left;">
		<h2>글 수정하기</h2>

		<form th:action="@{/AliceDiary/community/put}"
			th:object="${updateDto}" method="post" enctype="multipart/form-data">
			<table border="1">
				<tr>
					<td>제목</td>
					<td><input type="text" name="title" th:field="*{title}"></td>
				</tr>
				<tr>
					<td>내용</td>
					<td><textarea name="content" cols="50" rows="25"
							th:field="*{content}"></textarea></td>
				</tr>
			</table>



			<div id="fileBox">
				<p th:each="file : ${files}" th:if="${file.originName != null}">
					첨부파일: <a id="filewow" th:href="|/AliceDiary/community/download/${file.num}|"
						th:text="${file.originName}"></a>
				<button type="button" id="delete_file"
						th:onclick="deleteFile([[${file.num}]],[[${updateDto.postNum}]])">파일삭제</button>				
				</p>
				
			</div>

			<div>
				파일첨부<input type="file" th:field="*{originName}" multiple />
			</div>
			<div>
				<input type="submit" value="수정"> <input type="button"
					onClick="history.go(-1)" value="취소">
					<input type="hidden" th:field="*{postNum}">
			</div>
		</form>
		</div>
</body>
</html>