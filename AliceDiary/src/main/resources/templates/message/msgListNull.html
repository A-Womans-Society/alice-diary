<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="~{layouts/messageLayout}">

<th:block layout:fragment="css">

</th:block>

<th:block layout:fragment="script">
	<script th:src="@{/js/message/msgList.js}"></script>
</th:block>

<div layout:fragment="content">
	<div class="container-fluid h-100">
		<div class="row h-100">
			<div class="col-12 h-100">
				<h2 class="text-center m-0 pt-5" style="height: 15%;"
					th:text="${fromId} + '님의 쪽지함'"></h2>
				<div class="text-center">
					<small>친구들과 1:1로 대화해보세요!</small>
				</div>


				<div class="d-flex justify-content-center" style="height: 10%;">
					<div class="d-flex align-items-center">
						<!--/* 검색 영역 */-->
						<div class="input-group" id="adv-search" th:align="center">
							<select id="searchType" class="form-control"
								style="width: 100px;">
								<option value="">전체</option>
								<option value="id">받는사람 아이디</option>
								<option value="tonum">받는사람 회원번호</option>
								<option value="content">내용</option>
							</select> <input type="text" id="searchKeyword" class="form-control"
								placeholder="키워드를 입력해 주세요." style="width: 300px;" />
							<button type="button">검색</button>
						</div>

					</div>
				</div>
				<div style="height: 10%;" class="text-right">
					<button type="button" class="btn btn-primary" data-toggle="modal"
						data-target="#exampleModal" data-whatever="messageToId">쪽지
						보내기</button>
				</div>

				<div class="h-25">
					<!--/* 쪽지함 목록 영역 */-->
					<div class="container-fluid" th:align="center">쪽지함이 비었습니다!</div>
				</div>
			</div>

		</div>
	</div>

	<!-- 쪽지 보내기 모달창 -->
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">쪽지 보내기✉️</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form name="msgForm" id="msgForm" th:object="${mdto}"
					th:method="post" th:action="@{|/messagebox/${fromId}|}">
					<div class="modal-body">
						<div class="form-group">
							<label for="recipient-name" class="col-form-label">받는 사람</label>
							<input type="text" class="form-control" th:field="*{messageToId}"
								placeholder="아이디나 이름을 입력하세요!">
						</div>
						<div class="form-group">
							<label for="message-text" class="col-form-label">쪽지 내용</label>
							<textarea class="form-control" th:field="*{content}" id="content"></textarea>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">취소</button>
						<button type="submit" class="btn btn-primary">쪽지 보내기</button>
						<input type="hidden" th:name="${_csrf.parameterName}"
							th:value="${_csrf.token}">

					</div>
				</form>
			</div>
		</div>
	</div>
</div>
</html>